import{r as m,j as t,c as q,d as Qe,H as Mt}from"./app-DmUivkW1.js";import{c as A,u as et,P as X,e as Ae,B as me,L as O,I as ue}from"./label-ByFKjmgZ.js";import{d as tt,c as st,b as fe,P as at,e as Tt,t as U,X as Rt}from"./index-DsUHsy8M.js";import{u as It,a as rt,R as Et,I as Dt,b as $t,L as Ue}from"./index-DrU3Hsf2.js";import{a as nt,C as Pt}from"./clock-BFDQZVAA.js";import{U as Xe}from"./user-PzKJID4q.js";import{L as Ft}from"./loader-circle-D1VMPqdR.js";/* empty css            */const Lt=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],At=A("Check",Lt);const Vt=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],zt=A("CircleCheck",Vt);const Ht=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],qt=A("Download",Ht);const Bt=[["path",{d:"m7 21-4.3-4.3c-1-1-1-2.5 0-3.4l9.6-9.6c1-1 2.5-1 3.4 0l5.6 5.6c1 1 1 2.5 0 3.4L13 21",key:"182aya"}],["path",{d:"M22 21H7",key:"t4ddhn"}],["path",{d:"m5 11 9 9",key:"1mo9qw"}]],Gt=A("Eraser",Bt);const Ot=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],Ut=A("FileSpreadsheet",Ot);const Xt=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],Kt=A("Hash",Xt);const Jt=[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]],Ke=A("LogIn",Jt);const Yt=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Wt=A("Pen",Yt);const Zt=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Qt=A("ShieldCheck",Zt);const es=[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],ts=A("SquareCheckBig",es);const ss=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],as=A("Truck",ss);function rs(s){const e=m.useRef({value:s,previous:s});return m.useMemo(()=>(e.current.value!==s&&(e.current.previous=e.current.value,e.current.value=s),e.current.previous),[s])}var Ve="Checkbox",[ns,Ss]=st(Ve),[os,We]=ns(Ve);function cs(s){const{__scopeCheckbox:e,checked:a,children:r,defaultChecked:o,disabled:n,form:c,name:d,onCheckedChange:u,required:h,value:f="on",internal_do_not_use_render:l}=s,[i,x]=tt({prop:a,defaultProp:o??!1,onChange:u,caller:Ve}),[g,v]=m.useState(null),[w,N]=m.useState(null),y=m.useRef(!1),k=g?!!c||!!g.closest("form"):!0,R={checked:i,disabled:n,setChecked:x,control:g,setControl:v,name:d,form:c,value:f,hasConsumerStoppedPropagationRef:y,required:h,defaultChecked:G(o)?!1:o,isFormControl:k,bubbleInput:w,setBubbleInput:N};return t.jsx(os,{scope:e,...R,children:ls(l)?l(R):r})}var ot="CheckboxTrigger",ct=m.forwardRef(({__scopeCheckbox:s,onKeyDown:e,onClick:a,...r},o)=>{const{control:n,value:c,disabled:d,checked:u,required:h,setControl:f,setChecked:l,hasConsumerStoppedPropagationRef:i,isFormControl:x,bubbleInput:g}=We(ot,s),v=et(o,f),w=m.useRef(u);return m.useEffect(()=>{const N=n?.form;if(N){const y=()=>l(w.current);return N.addEventListener("reset",y),()=>N.removeEventListener("reset",y)}},[n,l]),t.jsx(X.button,{type:"button",role:"checkbox","aria-checked":G(u)?"mixed":u,"aria-required":h,"data-state":ft(u),"data-disabled":d?"":void 0,disabled:d,value:c,...r,ref:v,onKeyDown:fe(e,N=>{N.key==="Enter"&&N.preventDefault()}),onClick:fe(a,N=>{l(y=>G(y)?!0:!y),g&&x&&(i.current=N.isPropagationStopped(),i.current||N.stopPropagation())})})});ct.displayName=ot;var lt=m.forwardRef((s,e)=>{const{__scopeCheckbox:a,name:r,checked:o,defaultChecked:n,required:c,disabled:d,value:u,onCheckedChange:h,form:f,...l}=s;return t.jsx(cs,{__scopeCheckbox:a,checked:o,defaultChecked:n,disabled:d,required:c,onCheckedChange:h,name:r,form:f,value:u,internal_do_not_use_render:({isFormControl:i})=>t.jsxs(t.Fragment,{children:[t.jsx(ct,{...l,ref:e,__scopeCheckbox:a}),i&&t.jsx(ut,{__scopeCheckbox:a})]})})});lt.displayName=Ve;var it="CheckboxIndicator",dt=m.forwardRef((s,e)=>{const{__scopeCheckbox:a,forceMount:r,...o}=s,n=We(it,a);return t.jsx(at,{present:r||G(n.checked)||n.checked===!0,children:t.jsx(X.span,{"data-state":ft(n.checked),"data-disabled":n.disabled?"":void 0,...o,ref:e,style:{pointerEvents:"none",...s.style}})})});dt.displayName=it;var mt="CheckboxBubbleInput",ut=m.forwardRef(({__scopeCheckbox:s,...e},a)=>{const{control:r,hasConsumerStoppedPropagationRef:o,checked:n,defaultChecked:c,required:d,disabled:u,name:h,value:f,form:l,bubbleInput:i,setBubbleInput:x}=We(mt,s),g=et(a,x),v=rs(n),w=It(r);m.useEffect(()=>{const y=i;if(!y)return;const k=window.HTMLInputElement.prototype,S=Object.getOwnPropertyDescriptor(k,"checked").set,C=!o.current;if(v!==n&&S){const b=new Event("click",{bubbles:C});y.indeterminate=G(n),S.call(y,G(n)?!1:n),y.dispatchEvent(b)}},[i,v,n,o]);const N=m.useRef(G(n)?!1:n);return t.jsx(X.input,{type:"checkbox","aria-hidden":!0,defaultChecked:c??N.current,required:d,disabled:u,name:h,value:f,form:l,...e,tabIndex:-1,ref:g,style:{...e.style,...w,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});ut.displayName=mt;function ls(s){return typeof s=="function"}function G(s){return s==="indeterminate"}function ft(s){return G(s)?"indeterminate":s?"checked":"unchecked"}function is(s){const e=q.c(9);let a,r;e[0]!==s?({className:a,...r}=s,e[0]=s,e[1]=a,e[2]=r):(a=e[1],r=e[2]);let o;e[3]!==a?(o=Ae("peer border-input data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",a),e[3]=a,e[4]=o):o=e[4];let n;e[5]===Symbol.for("react.memo_cache_sentinel")?(n=t.jsx(dt,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:t.jsx(At,{className:"size-3.5"})}),e[5]=n):n=e[5];let c;return e[6]!==r||e[7]!==o?(c=t.jsx(lt,{"data-slot":"checkbox",className:o,...r,children:n}),e[6]=r,e[7]=o,e[8]=c):c=e[8],c}var ze="Tabs",[ds,Cs]=st(ze,[rt]),ht=rt(),[ms,Ze]=ds(ze),xt=m.forwardRef((s,e)=>{const{__scopeTabs:a,value:r,onValueChange:o,defaultValue:n,orientation:c="horizontal",dir:d,activationMode:u="automatic",...h}=s,f=$t(d),[l,i]=tt({prop:r,onChange:o,defaultProp:n??"",caller:ze});return t.jsx(ms,{scope:a,baseId:Tt(),value:l,onValueChange:i,orientation:c,dir:f,activationMode:u,children:t.jsx(X.div,{dir:f,"data-orientation":c,...h,ref:e})})});xt.displayName=ze;var pt="TabsList",gt=m.forwardRef((s,e)=>{const{__scopeTabs:a,loop:r=!0,...o}=s,n=Ze(pt,a),c=ht(a);return t.jsx(Et,{asChild:!0,...c,orientation:n.orientation,dir:n.dir,loop:r,children:t.jsx(X.div,{role:"tablist","aria-orientation":n.orientation,...o,ref:e})})});gt.displayName=pt;var bt="TabsTrigger",vt=m.forwardRef((s,e)=>{const{__scopeTabs:a,value:r,disabled:o=!1,...n}=s,c=Ze(bt,a),d=ht(a),u=jt(c.baseId,r),h=_t(c.baseId,r),f=r===c.value;return t.jsx(Dt,{asChild:!0,...d,focusable:!o,active:f,children:t.jsx(X.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":h,"data-state":f?"active":"inactive","data-disabled":o?"":void 0,disabled:o,id:u,...n,ref:e,onMouseDown:fe(s.onMouseDown,l=>{!o&&l.button===0&&l.ctrlKey===!1?c.onValueChange(r):l.preventDefault()}),onKeyDown:fe(s.onKeyDown,l=>{[" ","Enter"].includes(l.key)&&c.onValueChange(r)}),onFocus:fe(s.onFocus,()=>{const l=c.activationMode!=="manual";!f&&!o&&l&&c.onValueChange(r)})})})});vt.displayName=bt;var yt="TabsContent",Nt=m.forwardRef((s,e)=>{const{__scopeTabs:a,value:r,forceMount:o,children:n,...c}=s,d=Ze(yt,a),u=jt(d.baseId,r),h=_t(d.baseId,r),f=r===d.value,l=m.useRef(f);return m.useEffect(()=>{const i=requestAnimationFrame(()=>l.current=!1);return()=>cancelAnimationFrame(i)},[]),t.jsx(at,{present:o||f,children:({present:i})=>t.jsx(X.div,{"data-state":f?"active":"inactive","data-orientation":d.orientation,role:"tabpanel","aria-labelledby":u,hidden:!i,id:h,tabIndex:0,...c,ref:e,style:{...s.style,animationDuration:l.current?"0s":void 0},children:i&&n})})});Nt.displayName=yt;function jt(s,e){return`${s}-trigger-${e}`}function _t(s,e){return`${s}-content-${e}`}var us=xt,kt=gt,wt=vt,St=Nt;const fs=us,Ct=m.forwardRef((s,e)=>{const a=q.c(9);let r,o;a[0]!==s?({className:r,...o}=s,a[0]=s,a[1]=r,a[2]=o):(r=a[1],o=a[2]);let n;a[3]!==r?(n=Ae("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",r),a[3]=r,a[4]=n):n=a[4];let c;return a[5]!==o||a[6]!==e||a[7]!==n?(c=t.jsx(kt,{ref:e,className:n,...o}),a[5]=o,a[6]=e,a[7]=n,a[8]=c):c=a[8],c});Ct.displayName=kt.displayName;const Je=m.forwardRef((s,e)=>{const a=q.c(9);let r,o;a[0]!==s?({className:r,...o}=s,a[0]=s,a[1]=r,a[2]=o):(r=a[1],o=a[2]);let n;a[3]!==r?(n=Ae("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",r),a[3]=r,a[4]=n):n=a[4];let c;return a[5]!==o||a[6]!==e||a[7]!==n?(c=t.jsx(wt,{ref:e,className:n,...o}),a[5]=o,a[6]=e,a[7]=n,a[8]=c):c=a[8],c});Je.displayName=wt.displayName;const Ye=m.forwardRef((s,e)=>{const a=q.c(9);let r,o;a[0]!==s?({className:r,...o}=s,a[0]=s,a[1]=r,a[2]=o):(r=a[1],o=a[2]);let n;a[3]!==r?(n=Ae("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",r),a[3]=r,a[4]=n):n=a[4];let c;return a[5]!==o||a[6]!==e||a[7]!==n?(c=t.jsx(St,{ref:e,className:n,...o}),a[5]=o,a[6]=e,a[7]=n,a[8]=c):c=a[8],c});Ye.displayName=St.displayName;const hs=s=>{const e=q.c(27),{onSignatureChange:a}=s,r=m.useRef(null),[o,n]=m.useState(!1),[c,d]=m.useState(!1);let u;e[0]===Symbol.for("react.memo_cache_sentinel")?(u=p=>{const j=r.current;if(!j)return{x:0,y:0};const _=j.getBoundingClientRect(),T=j.width/_.width,D=j.height/_.height;if("touches"in p){const F=p.touches[0];return{x:(F.clientX-_.left)*T,y:(F.clientY-_.top)*D}}else return{x:(p.clientX-_.left)*T,y:(p.clientY-_.top)*D}},e[0]=u):u=e[0];const h=u;let f;e[1]===Symbol.for("react.memo_cache_sentinel")?(f=p=>{p.preventDefault();const _=r.current?.getContext("2d");if(!_)return;const{x:T,y:D}=h(p);_.beginPath(),_.moveTo(T,D),n(!0)},e[1]=f):f=e[1];const l=f;let i;e[2]!==c||e[3]!==o?(i=p=>{if(p.preventDefault(),!o)return;const _=r.current?.getContext("2d");if(!_)return;const{x:T,y:D}=h(p);_.lineTo(T,D),_.stroke(),c||d(!0)},e[2]=c,e[3]=o,e[4]=i):i=e[4];const x=i;let g;e[5]!==c||e[6]!==o||e[7]!==a?(g=()=>{if(o){n(!1);const p=r.current;p&&c&&a(!0,p.toDataURL("image/png"))}},e[5]=c,e[6]=o,e[7]=a,e[8]=g):g=e[8];const v=g;let w;e[9]!==a?(w=()=>{const p=r.current,j=p?.getContext("2d");!j||!p||(j.clearRect(0,0,p.width,p.height),d(!1),a(!1,null))},e[9]=a,e[10]=w):w=e[10];const N=w;let y,k;e[11]===Symbol.for("react.memo_cache_sentinel")?(y=()=>{const j=r.current?.getContext("2d");j&&(j.strokeStyle="hsl(220, 25%, 10%)",j.lineWidth=3,j.lineCap="round",j.lineJoin="round")},k=[],e[11]=y,e[12]=k):(y=e[11],k=e[12]),m.useEffect(y,k);let R;e[13]!==x||e[14]!==v?(R=t.jsx("canvas",{ref:r,width:400,height:150,className:"signature-canvas h-[150px] w-full",onMouseDown:l,onMouseMove:x,onMouseUp:v,onMouseLeave:v,onTouchStart:l,onTouchMove:x,onTouchEnd:v}),e[13]=x,e[14]=v,e[15]=R):R=e[15];let S;e[16]!==c?(S=!c&&t.jsx("div",{className:"pointer-events-none absolute inset-0 flex items-center justify-center",children:t.jsx("span",{className:"text-sm text-muted-foreground/50",children:"Signez ici avec votre doigt ou souris"})}),e[16]=c,e[17]=S):S=e[17];let C;e[18]!==R||e[19]!==S?(C=t.jsxs("div",{className:"relative overflow-hidden rounded-lg border-2 border-dashed border-muted-foreground/30 bg-card",children:[R,S]}),e[18]=R,e[19]=S,e[20]=C):C=e[20];let b;e[21]===Symbol.for("react.memo_cache_sentinel")?(b=t.jsx(Gt,{className:"mr-2 h-4 w-4"}),e[21]=b):b=e[21];let I;e[22]!==N?(I=t.jsxs(me,{type:"button",variant:"outline",size:"sm",onClick:N,className:"w-full",children:[b,"Effacer la signature"]}),e[22]=N,e[23]=I):I=e[23];let E;return e[24]!==C||e[25]!==I?(E=t.jsxs("div",{className:"space-y-3",children:[C,I]}),e[24]=C,e[25]=I,e[26]=E):E=e[26],E},xs=s=>{const e=q.c(100),{onSuccess:a}=s,[r,o]=m.useState(""),[n,c]=m.useState(""),[d,u]=m.useState(""),[h,f]=m.useState(""),[l,i]=m.useState(""),[x,g]=m.useState("checkbox"),[v,w]=m.useState(!1),[N,y]=m.useState(null),[k,R]=m.useState(!1),[S,C]=m.useState(!1),[b,I]=m.useState("arrival"),[E,p]=m.useState(null);let j,_;e[0]===Symbol.for("react.memo_cache_sentinel")?(j=()=>{const M=()=>{const z=new Date;f(z.toLocaleDateString("fr-FR",{weekday:"long",year:"numeric",month:"long",day:"numeric"})),i(z.toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"}))};M();const H=setInterval(M,1e3);return()=>clearInterval(H)},_=[],e[0]=j,e[1]=_):(j=e[0],_=e[1]),m.useEffect(j,_);let T;e[2]===Symbol.for("react.memo_cache_sentinel")?(T=(M,H)=>{w(M),y(H)},e[2]=T):T=e[2];const D=T;let F;e[3]!==k||e[4]!==r||e[5]!==v||e[6]!==n||e[7]!==d||e[8]!==x?(F=()=>{const M=r.trim()&&n.trim()&&d.trim(),H=x==="signature"?v:k,z=M&&H;return console.log("Form check:",{hasRequiredFields:M,hasValidation:H,signatureMode:x,hasSignature:v,checkboxConfirmed:k,valid:z}),z},e[3]=k,e[4]=r,e[5]=v,e[6]=n,e[7]=d,e[8]=x,e[9]=F):F=e[9];const $=F;let L;e[10]!==h||e[11]!==l||e[12]!==r||e[13]!==$||e[14]!==n||e[15]!==d||e[16]!==a||e[17]!==b||e[18]!==N||e[19]!==x?(L=async M=>{if(M.preventDefault(),!$()){U.error("Veuillez remplir tous les champs et valider votre pointage.");return}C(!0),p(null),Qe.post("/attendance",{first_name:r,last_name:n,matricule:d,type:b,signature_data:x==="signature"?N:"checkbox_confirmed"}).then(H=>{C(!1);const z=b==="arrival"?"Arrivée enregistrée !":"Départ enregistré !";U.success(z),a({firstName:r,lastName:n,matricule:d,date:h,time:l,type:b})}).catch(H=>{C(!1);const z=H.response?.data?.message||"Une erreur est survenue lors de l'enregistrement.";p(z),U.error(z)})},e[10]=h,e[11]=l,e[12]=r,e[13]=$,e[14]=n,e[15]=d,e[16]=a,e[17]=b,e[18]=N,e[19]=x,e[20]=L):L=e[20];const V=L;let P;e[21]!==E?(P=E&&t.jsx("div",{className:"animate-in rounded-xl border border-destructive/20 bg-destructive/10 p-4 text-sm font-medium text-destructive fade-in slide-in-from-top-2",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"flex h-5 w-5 items-center justify-center rounded-full bg-destructive text-[10px] text-white",children:"!"}),E]})}),e[21]=E,e[22]=P):P=e[22];const B=b==="arrival"?"default":"outline",He=`h-20 rounded-2xl border-2 text-lg font-bold transition-all ${b==="arrival"?"border-success bg-success text-success-foreground shadow-lg shadow-success/20 hover:bg-success/90":"border-border/40 hover:border-success/50 hover:bg-success/5"}`;let he;e[23]===Symbol.for("react.memo_cache_sentinel")?(he=()=>{I("arrival"),p(null)},e[23]=he):he=e[23];let xe;e[24]===Symbol.for("react.memo_cache_sentinel")?(xe=t.jsxs("div",{className:"flex flex-col items-center gap-1",children:[t.jsx(Ke,{className:"h-6 w-6"}),t.jsx("span",{children:"Arrivée"})]}),e[24]=xe):xe=e[24];let K;e[25]!==B||e[26]!==He?(K=t.jsx(me,{type:"button",variant:B,className:He,onClick:he,children:xe}),e[25]=B,e[26]=He,e[27]=K):K=e[27];const qe=b==="departure"?"default":"outline",Be=`h-20 rounded-2xl border-2 text-lg font-bold transition-all ${b==="departure"?"border-warning bg-warning text-warning-foreground shadow-lg shadow-warning/20 hover:bg-warning/90":"border-border/40 hover:border-warning/50 hover:bg-warning/5"}`;let pe;e[28]===Symbol.for("react.memo_cache_sentinel")?(pe=()=>{I("departure"),p(null)},e[28]=pe):pe=e[28];let ge;e[29]===Symbol.for("react.memo_cache_sentinel")?(ge=t.jsxs("div",{className:"flex flex-col items-center gap-1",children:[t.jsx(Ue,{className:"h-6 w-6"}),t.jsx("span",{children:"Départ"})]}),e[29]=ge):ge=e[29];let J;e[30]!==qe||e[31]!==Be?(J=t.jsx(me,{type:"button",variant:qe,className:Be,onClick:pe,children:ge}),e[30]=qe,e[31]=Be,e[32]=J):J=e[32];let Y;e[33]!==K||e[34]!==J?(Y=t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[K,J]}),e[33]=K,e[34]=J,e[35]=Y):Y=e[35];let be;e[36]===Symbol.for("react.memo_cache_sentinel")?(be=t.jsx("div",{className:"flex h-12 w-12 shrink-0 items-center justify-center rounded-xl bg-primary/10",children:t.jsx(nt,{className:"h-6 w-6 text-primary"})}),e[36]=be):be=e[36];let ve;e[37]===Symbol.for("react.memo_cache_sentinel")?(ve=t.jsx("p",{className:"mb-0.5 text-[10px] font-bold tracking-wider text-muted-foreground uppercase",children:"Date"}),e[37]=ve):ve=e[37];let W;e[38]!==h?(W=t.jsxs("div",{className:"flex items-center gap-4",children:[be,t.jsxs("div",{className:"min-w-0",children:[ve,t.jsx("p",{className:"truncate text-sm font-bold text-foreground capitalize",children:h})]})]}),e[38]=h,e[39]=W):W=e[39];let ye;e[40]===Symbol.for("react.memo_cache_sentinel")?(ye=t.jsx("div",{className:"flex h-12 w-12 shrink-0 items-center justify-center rounded-xl bg-primary/10",children:t.jsx(Pt,{className:"h-6 w-6 text-primary"})}),e[40]=ye):ye=e[40];let Ne;e[41]===Symbol.for("react.memo_cache_sentinel")?(Ne=t.jsx("p",{className:"mb-0.5 text-[10px] font-bold tracking-wider text-muted-foreground uppercase",children:"Heure"}),e[41]=Ne):Ne=e[41];let Z;e[42]!==l?(Z=t.jsxs("div",{className:"flex items-center gap-4 border-l border-border/40 pl-4",children:[ye,t.jsxs("div",{className:"min-w-0",children:[Ne,t.jsx("p",{className:"text-xl font-bold tracking-tight text-foreground",children:l})]})]}),e[42]=l,e[43]=Z):Z=e[43];let Q;e[44]!==W||e[45]!==Z?(Q=t.jsxs("div",{className:"grid grid-cols-2 gap-4 rounded-2xl border border-border/40 bg-muted/30 p-5 backdrop-blur-sm",children:[W,Z]}),e[44]=W,e[45]=Z,e[46]=Q):Q=e[46];let je;e[47]===Symbol.for("react.memo_cache_sentinel")?(je=t.jsx(Xe,{className:"h-4 w-4"}),e[47]=je):je=e[47];let _e;e[48]===Symbol.for("react.memo_cache_sentinel")?(_e=t.jsxs(O,{htmlFor:"lastName",className:"flex items-center gap-2 text-foreground",children:[je,"Nom ",t.jsx("span",{className:"text-destructive",children:"*"})]}),e[48]=_e):_e=e[48];let ke;e[49]===Symbol.for("react.memo_cache_sentinel")?(ke=M=>c(M.target.value),e[49]=ke):ke=e[49];let ee;e[50]!==n?(ee=t.jsxs("div",{className:"space-y-2",children:[_e,t.jsx(ue,{id:"lastName",type:"text",placeholder:"Votre nom de famille",value:n,onChange:ke,className:"h-12 text-base",required:!0})]}),e[50]=n,e[51]=ee):ee=e[51];let we;e[52]===Symbol.for("react.memo_cache_sentinel")?(we=t.jsx(Xe,{className:"h-4 w-4"}),e[52]=we):we=e[52];let Se;e[53]===Symbol.for("react.memo_cache_sentinel")?(Se=t.jsxs(O,{htmlFor:"firstName",className:"flex items-center gap-2 text-foreground",children:[we,"Prénom ",t.jsx("span",{className:"text-destructive",children:"*"})]}),e[53]=Se):Se=e[53];let Ce;e[54]===Symbol.for("react.memo_cache_sentinel")?(Ce=M=>o(M.target.value),e[54]=Ce):Ce=e[54];let te;e[55]!==r?(te=t.jsxs("div",{className:"space-y-2",children:[Se,t.jsx(ue,{id:"firstName",type:"text",placeholder:"Votre prénom",value:r,onChange:Ce,className:"h-12 text-base",required:!0})]}),e[55]=r,e[56]=te):te=e[56];let Me;e[57]===Symbol.for("react.memo_cache_sentinel")?(Me=t.jsx(Kt,{className:"h-4 w-4"}),e[57]=Me):Me=e[57];let Te;e[58]===Symbol.for("react.memo_cache_sentinel")?(Te=t.jsxs(O,{htmlFor:"matricule",className:"flex items-center gap-2 text-foreground",children:[Me,"Matricule ",t.jsx("span",{className:"text-destructive",children:"*"})]}),e[58]=Te):Te=e[58];let Re;e[59]===Symbol.for("react.memo_cache_sentinel")?(Re=M=>u(M.target.value),e[59]=Re):Re=e[59];let se;e[60]!==d?(se=t.jsxs("div",{className:"space-y-2",children:[Te,t.jsx(ue,{id:"matricule",type:"text",placeholder:"Votre matricule chauffeur",value:d,onChange:Re,className:"h-12 text-base",required:!0})]}),e[60]=d,e[61]=se):se=e[61];let ae;e[62]!==ee||e[63]!==te||e[64]!==se?(ae=t.jsxs("div",{className:"space-y-4",children:[ee,te,se]}),e[62]=ee,e[63]=te,e[64]=se,e[65]=ae):ae=e[65];let Ie;e[66]===Symbol.for("react.memo_cache_sentinel")?(Ie=t.jsx(O,{className:"font-medium text-foreground",children:"Mode de validation"}),e[66]=Ie):Ie=e[66];let Ee;e[67]===Symbol.for("react.memo_cache_sentinel")?(Ee=M=>g(M),e[67]=Ee):Ee=e[67];let De;e[68]===Symbol.for("react.memo_cache_sentinel")?(De=t.jsxs(Je,{value:"checkbox",className:"flex items-center justify-center gap-2 rounded-xl text-sm font-bold data-[state=active]:bg-background data-[state=active]:shadow-sm",children:[t.jsx(ts,{className:"h-4 w-4"}),"Simple"]}),e[68]=De):De=e[68];let $e;e[69]===Symbol.for("react.memo_cache_sentinel")?($e=t.jsxs(Ct,{className:"grid h-14 w-full grid-cols-2 rounded-2xl bg-muted/50 p-1.5",children:[De,t.jsxs(Je,{value:"signature",className:"flex items-center justify-center gap-2 rounded-xl text-sm font-bold data-[state=active]:bg-background data-[state=active]:shadow-sm",children:[t.jsx(Wt,{className:"h-4 w-4"}),"Signature"]})]}),e[69]=$e):$e=e[69];let Pe;e[70]===Symbol.for("react.memo_cache_sentinel")?(Pe=M=>R(M===!0),e[70]=Pe):Pe=e[70];let re;e[71]!==k?(re=t.jsx(is,{id:"confirm",checked:k,onCheckedChange:Pe,className:"mt-0.5 h-6 w-6"}),e[71]=k,e[72]=re):re=e[72];const Ge=b==="arrival"?"Je confirme mon arrivée et suis prêt(e) à commencer mon service.":"Je confirme mon départ et la fin de mon service.";let ne;e[73]!==Ge?(ne=t.jsx(O,{htmlFor:"confirm",className:"cursor-pointer leading-relaxed text-foreground",children:Ge}),e[73]=Ge,e[74]=ne):ne=e[74];let oe;e[75]!==re||e[76]!==ne?(oe=t.jsx(Ye,{value:"checkbox",className:"mt-4",children:t.jsxs("div",{className:"flex items-start gap-3 rounded-xl bg-secondary/30 p-4",children:[re,ne]})}),e[75]=re,e[76]=ne,e[77]=oe):oe=e[77];let Fe;e[78]===Symbol.for("react.memo_cache_sentinel")?(Fe=t.jsx(Ye,{value:"signature",className:"mt-4",children:t.jsx(hs,{onSignatureChange:D})}),e[78]=Fe):Fe=e[78];let ce;e[79]!==x||e[80]!==oe?(ce=t.jsxs("div",{className:"space-y-3",children:[Ie,t.jsxs(fs,{value:x,onValueChange:Ee,children:[$e,oe,Fe]})]}),e[79]=x,e[80]=oe,e[81]=ce):ce=e[81];const Oe=`h-16 w-full rounded-2xl text-lg font-extrabold shadow-xl transition-all hover:scale-[1.02] active:scale-[0.98] ${b==="arrival"?"bg-success text-success-foreground shadow-success/20 hover:bg-success/90":"bg-warning text-warning-foreground shadow-warning/20 hover:bg-warning/90"}`;let le;e[82]!==$||e[83]!==S?(le=!$()||S,e[82]=$,e[83]=S,e[84]=le):le=e[84];let ie;e[85]!==S||e[86]!==b?(ie=S?t.jsxs(t.Fragment,{children:[t.jsx(Ft,{className:"mr-2 h-6 w-6 animate-spin"}),"Enregistrement..."]}):b==="arrival"?t.jsxs(t.Fragment,{children:[t.jsx(Ke,{className:"mr-2 h-6 w-6"}),"Pointer mon arrivée"]}):t.jsxs(t.Fragment,{children:[t.jsx(Ue,{className:"mr-2 h-6 w-6"}),"Pointer mon départ"]}),e[85]=S,e[86]=b,e[87]=ie):ie=e[87];let de;e[88]!==Oe||e[89]!==le||e[90]!==ie?(de=t.jsx(me,{type:"submit",size:"lg",className:Oe,disabled:le,children:ie}),e[88]=Oe,e[89]=le,e[90]=ie,e[91]=de):de=e[91];let Le;return e[92]!==V||e[93]!==Y||e[94]!==Q||e[95]!==ae||e[96]!==ce||e[97]!==de||e[98]!==P?(Le=t.jsxs("form",{onSubmit:V,className:"space-y-6",children:[P,Y,Q,ae,ce,de]}),e[92]=V,e[93]=Y,e[94]=Q,e[95]=ae,e[96]=ce,e[97]=de,e[98]=P,e[99]=Le):Le=e[99],Le},ps=()=>{const s=q.c(9),[e,a]=m.useState(!1),[r,o]=m.useState(""),[n,c]=m.useState(""),[d,u]=m.useState(null);let h;s[0]!==n||s[1]!==r?(h=async()=>{if(u(null),!r||!n){U.error("Veuillez renseigner vos informations de manager.");return}try{const i=`/attendance/export?manager_name=${encodeURIComponent(r)}&manager_matricule=${encodeURIComponent(n)}`;U.info("Vérification des accès..."),await Qe.get(i),window.location.href=i,U.success("Rapport prêt ! Le téléchargement va commencer."),a(!1)}catch(i){const g=i.response?.data?.message||"Accès refusé. Vérifiez vos identifiants.";u(g),U.error(g)}},s[0]=n,s[1]=r,s[2]=h):h=s[2];const f=h;let l;return s[3]!==d||s[4]!==f||s[5]!==e||s[6]!==n||s[7]!==r?(l=t.jsx("div",{className:"mt-12 border-t border-border/40 pt-8",children:e?t.jsxs("div",{className:"animate-in rounded-2xl border border-border/40 bg-muted/30 p-6 duration-300 zoom-in-95 fade-in",children:[d&&t.jsx("div",{className:"mb-4 animate-in rounded-xl border border-destructive/20 bg-destructive/10 p-4 text-sm font-medium text-destructive fade-in slide-in-from-top-2",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"flex h-5 w-5 items-center justify-center rounded-full bg-destructive text-[10px] text-white",children:"!"}),d]})}),t.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Ut,{className:"h-5 w-5 text-primary"}),t.jsx("h3",{className:"font-bold text-foreground",children:"Export du rapport (.csv)"})]}),t.jsx("button",{onClick:()=>{a(!1),u(null)},className:"text-muted-foreground hover:text-foreground",children:t.jsx(Rt,{className:"h-5 w-5"})})]}),t.jsxs("div",{className:"mb-4 grid grid-cols-1 gap-4 sm:grid-cols-2",children:[t.jsxs("div",{className:"space-y-1.5",children:[t.jsx(O,{htmlFor:"mgrName",className:"text-[10px] font-bold text-muted-foreground uppercase",children:"Nom complet"}),t.jsx(ue,{id:"mgrName",placeholder:"Manager...",value:r,onChange:i=>{o(i.target.value),u(null)},className:"h-10 text-sm"})]}),t.jsxs("div",{className:"space-y-1.5",children:[t.jsx(O,{htmlFor:"mgrMatricule",className:"text-[10px] font-bold text-muted-foreground uppercase",children:"Matricule Manager"}),t.jsx(ue,{id:"mgrMatricule",placeholder:"ID Manager...",value:n,onChange:i=>{c(i.target.value),u(null)},className:"h-10 text-sm"})]})]}),t.jsxs(me,{onClick:f,className:"w-full rounded-xl bg-primary font-bold text-primary-foreground hover:bg-primary/90",children:[t.jsx(qt,{className:"mr-2 h-4 w-4"}),"Télécharger le rapport du jour"]})]}):t.jsxs("button",{onClick:()=>a(!0),className:"group mx-auto flex items-center gap-2 text-xs font-semibold text-muted-foreground transition-colors hover:text-primary",children:[t.jsx(Qt,{className:"h-4 w-4 transition-transform group-hover:scale-110"}),"Espace Manager - Télécharger le rapport"]})}),s[3]=d,s[4]=f,s[5]=e,s[6]=n,s[7]=r,s[8]=l):l=s[8],l},gs=s=>{const e=q.c(48),{driverName:a,matricule:r,date:o,time:n,type:c,onNewSignature:d}=s,u=c==="arrival",h=`animate-pulse-success flex h-24 w-24 items-center justify-center rounded-full ${u?"bg-success/10":"bg-warning/10"}`,f=`animate-check-bounce h-16 w-16 ${u?"text-success":"text-warning"}`;let l;e[0]!==f?(l=t.jsx(zt,{className:f}),e[0]=f,e[1]=l):l=e[1];let i;e[2]!==h||e[3]!==l?(i=t.jsx("div",{className:"flex justify-center",children:t.jsx("div",{className:"relative",children:t.jsx("div",{className:h,children:l})})}),e[2]=h,e[3]=l,e[4]=i):i=e[4];const x=u?"Arrivée enregistrée !":"Départ enregistré !";let g;e[5]!==x?(g=t.jsx("h2",{className:"text-3xl font-extrabold tracking-tight text-foreground",children:x}),e[5]=x,e[6]=g):g=e[6];let v;e[7]===Symbol.for("react.memo_cache_sentinel")?(v=t.jsx("p",{className:"font-medium text-muted-foreground",children:"Votre pointage a été transmis avec succès au service RH."}),e[7]=v):v=e[7];let w;e[8]!==g?(w=t.jsxs("div",{className:"space-y-4",children:[g,v]}),e[8]=g,e[9]=w):w=e[9];const N=`flex h-10 w-10 items-center justify-center rounded-xl ${u?"bg-success/10":"bg-warning/10"}`;let y;e[10]!==u?(y=u?t.jsx(Ke,{className:"h-5 w-5 text-success"}):t.jsx(Ue,{className:"h-5 w-5 text-warning"}),e[10]=u,e[11]=y):y=e[11];let k;e[12]!==y||e[13]!==N?(k=t.jsx("div",{className:N,children:y}),e[12]=y,e[13]=N,e[14]=k):k=e[14];let R;e[15]===Symbol.for("react.memo_cache_sentinel")?(R=t.jsx("p",{className:"mb-0.5 text-[10px] font-bold tracking-wider text-muted-foreground uppercase",children:"Opération"}),e[15]=R):R=e[15];const S=u?"Arrivée":"Départ";let C;e[16]!==S?(C=t.jsxs("div",{children:[R,t.jsx("p",{className:"font-bold text-foreground",children:S})]}),e[16]=S,e[17]=C):C=e[17];let b;e[18]!==k||e[19]!==C?(b=t.jsxs("div",{className:"flex items-center gap-4 border-b border-border/20 pb-3",children:[k,C]}),e[18]=k,e[19]=C,e[20]=b):b=e[20];let I,E;e[21]===Symbol.for("react.memo_cache_sentinel")?(I=t.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-primary/10",children:t.jsx(Xe,{className:"h-5 w-5 text-primary"})}),E=t.jsx("p",{className:"mb-0.5 text-[10px] font-bold tracking-wider text-muted-foreground uppercase",children:"Chauffeur"}),e[21]=I,e[22]=E):(I=e[21],E=e[22]);let p;e[23]!==a?(p=t.jsxs("div",{className:"flex items-center gap-4",children:[I,t.jsxs("div",{children:[E,t.jsx("p",{className:"truncate font-bold text-foreground",children:a})]})]}),e[23]=a,e[24]=p):p=e[24];let j,_;e[25]===Symbol.for("react.memo_cache_sentinel")?(j=t.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-primary/10",children:t.jsx("span",{className:"text-xs font-extrabold text-primary",children:"ID"})}),_=t.jsx("p",{className:"mb-0.5 text-[10px] font-bold tracking-wider text-muted-foreground uppercase",children:"Matricule"}),e[25]=j,e[26]=_):(j=e[25],_=e[26]);let T;e[27]!==r?(T=t.jsxs("div",{className:"flex items-center gap-4",children:[j,t.jsxs("div",{children:[_,t.jsx("p",{className:"font-bold text-foreground",children:r})]})]}),e[27]=r,e[28]=T):T=e[28];let D,F;e[29]===Symbol.for("react.memo_cache_sentinel")?(D=t.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-primary/10",children:t.jsx(nt,{className:"h-5 w-5 text-primary"})}),F=t.jsx("p",{className:"mb-0.5 text-[10px] font-bold tracking-wider text-muted-foreground uppercase",children:"Date & Heure"}),e[29]=D,e[30]=F):(D=e[29],F=e[30]);let $;e[31]!==o||e[32]!==n?($=t.jsxs("div",{className:"flex items-center gap-4",children:[D,t.jsxs("div",{children:[F,t.jsxs("p",{className:"font-bold text-foreground",children:[o," à ",n]})]})]}),e[31]=o,e[32]=n,e[33]=$):$=e[33];let L;e[34]!==p||e[35]!==T||e[36]!==$?(L=t.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[p,T,$]}),e[34]=p,e[35]=T,e[36]=$,e[37]=L):L=e[37];let V;e[38]!==b||e[39]!==L?(V=t.jsxs("div",{className:"mx-auto max-w-sm space-y-4 rounded-2xl border border-border/40 bg-muted/30 p-6 text-left shadow-sm backdrop-blur-sm",children:[b,L]}),e[38]=b,e[39]=L,e[40]=V):V=e[40];let P;e[41]!==d?(P=t.jsx(me,{onClick:d,variant:"outline",size:"lg",className:"mt-6",children:"Nouveau pointage"}),e[41]=d,e[42]=P):P=e[42];let B;return e[43]!==V||e[44]!==P||e[45]!==i||e[46]!==w?(B=t.jsxs("div",{className:"space-y-6 px-4 py-8 text-center",children:[i,w,V,P]}),e[43]=V,e[44]=P,e[45]=i,e[46]=w,e[47]=B):B=e[47],B},Ms=()=>{const s=q.c(12),[e,a]=m.useState(!1),[r,o]=m.useState(null);let n;s[0]===Symbol.for("react.memo_cache_sentinel")?(n=w=>{o(w),a(!0)},s[0]=n):n=s[0];const c=n;let d;s[1]===Symbol.for("react.memo_cache_sentinel")?(d=()=>{a(!1),o(null)},s[1]=d):d=s[1];const u=d;let h;s[2]===Symbol.for("react.memo_cache_sentinel")?(h=t.jsx(Mt,{title:"Accueil"}),s[2]=h):h=s[2];let f;s[3]===Symbol.for("react.memo_cache_sentinel")?(f=t.jsxs("div",{className:"pointer-events-none fixed inset-0 overflow-hidden",children:[t.jsx("div",{className:"absolute -top-[10%] -left-[10%] h-[40%] w-[40%] animate-pulse rounded-full bg-primary/5 blur-3xl"}),t.jsx("div",{className:"absolute top-[60%] -right-[10%] h-[35%] w-[35%] animate-pulse rounded-full bg-success/5 blur-3xl"})]}),s[3]=f):f=s[3];let l;s[4]===Symbol.for("react.memo_cache_sentinel")?(l=t.jsxs("div",{className:"mb-8 animate-in text-center duration-700 fade-in slide-in-from-top-4",children:[t.jsx("div",{className:"mb-4 inline-flex h-16 w-16 items-center justify-center rounded-2xl bg-primary text-primary-foreground shadow-lg shadow-primary/20 transition-transform hover:scale-105",children:t.jsx(as,{className:"h-10 w-10"})}),t.jsx("h1",{className:"text-3xl font-extrabold tracking-tight text-foreground sm:text-4xl",children:"Pointage Chauffeurs"}),t.jsx("p",{className:"mt-2 font-medium text-muted-foreground",children:"Enregistrement sécurisé de votre activité"})]}),s[4]=l):l=s[4];let i;s[5]!==e||s[6]!==r?(i=t.jsx("div",{className:"shadow-card-lg w-full overflow-hidden rounded-3xl border border-border/40 bg-card p-1 transition-all duration-500 hover:shadow-2xl sm:p-2",children:t.jsx("div",{className:"p-5 sm:p-8",children:e&&r?t.jsx(gs,{driverName:`${r.firstName} ${r.lastName}`,matricule:r.matricule,date:r.date,time:r.time,type:r.type,onNewSignature:u}):t.jsx(xs,{onSuccess:c})})}),s[5]=e,s[6]=r,s[7]=i):i=s[7];let x;s[8]===Symbol.for("react.memo_cache_sentinel")?(x=t.jsx(ps,{}),s[8]=x):x=s[8];let g;s[9]===Symbol.for("react.memo_cache_sentinel")?(g=t.jsx("footer",{className:"mt-8 animate-in text-center duration-1000 fade-in",children:t.jsxs("p",{className:"mx-auto max-w-xs text-xs leading-relaxed text-muted-foreground",children:["Vos données sont transmises instantanément au service RH.",t.jsx("br",{}),"Système de pointage certifié Eyano Group."]})}),s[9]=g):g=s[9];let v;return s[10]!==i?(v=t.jsxs(t.Fragment,{children:[h,t.jsxs("div",{className:"flex min-h-screen flex-col bg-background",children:[f,t.jsxs("main",{className:"relative z-10 mx-auto flex w-full max-w-xl flex-1 flex-col items-center justify-center p-4 sm:p-6",children:[l,i,x,g]})]})]}),s[10]=i,s[11]=v):v=s[11],v};export{Ms as default};
