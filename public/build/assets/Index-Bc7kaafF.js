import{r as m,j as t,c as H,d as Ze,H as Mt}from"./app-Co6GXsGy.js";import{b as G,u as et,P as X,e as Ae,B as me,L as O,I as ue}from"./label-DfbEQ-Kf.js";import{d as tt,c as st,b as fe,P as rt,e as Tt,t as U,C as at,X as Rt}from"./index-BrHdQIZT.js";import{u as It,a as nt,R as Et,I as Dt,b as $t,L as Ue,S as Pt,F as Ft,D as Lt}from"./shield-check-Dwh9Lfwg.js";import{C as At}from"./clock-DSENUtI0.js";import{U as Xe}from"./user--pHUzc_F.js";import{L as Vt}from"./loader-circle-DDf9qdcA.js";/* empty css            */const zt=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Ht=G("Check",zt);const qt=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Bt=G("CircleCheck",qt);const Gt=[["path",{d:"m7 21-4.3-4.3c-1-1-1-2.5 0-3.4l9.6-9.6c1-1 2.5-1 3.4 0l5.6 5.6c1 1 1 2.5 0 3.4L13 21",key:"182aya"}],["path",{d:"M22 21H7",key:"t4ddhn"}],["path",{d:"m5 11 9 9",key:"1mo9qw"}]],Ot=G("Eraser",Gt);const Ut=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],Xt=G("Hash",Ut);const Kt=[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]],Ke=G("LogIn",Kt);const Jt=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Yt=G("Pen",Jt);const Wt=[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Qt=G("SquareCheckBig",Wt);const Zt=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],es=G("Truck",Zt);function ts(s){const e=m.useRef({value:s,previous:s});return m.useMemo(()=>(e.current.value!==s&&(e.current.previous=e.current.value,e.current.value=s),e.current.previous),[s])}var Ve="Checkbox",[ss,_s]=st(Ve),[rs,We]=ss(Ve);function as(s){const{__scopeCheckbox:e,checked:r,children:a,defaultChecked:o,disabled:n,form:c,name:d,onCheckedChange:u,required:x,value:f="on",internal_do_not_use_render:l}=s,[i,h]=tt({prop:r,defaultProp:o??!1,onChange:u,caller:Ve}),[g,v]=m.useState(null),[k,N]=m.useState(null),y=m.useRef(!1),w=g?!!c||!!g.closest("form"):!0,R={checked:i,disabled:n,setChecked:h,control:g,setControl:v,name:d,form:c,value:f,hasConsumerStoppedPropagationRef:y,required:x,defaultChecked:B(o)?!1:o,isFormControl:w,bubbleInput:k,setBubbleInput:N};return t.jsx(rs,{scope:e,...R,children:ns(l)?l(R):a})}var ot="CheckboxTrigger",ct=m.forwardRef(({__scopeCheckbox:s,onKeyDown:e,onClick:r,...a},o)=>{const{control:n,value:c,disabled:d,checked:u,required:x,setControl:f,setChecked:l,hasConsumerStoppedPropagationRef:i,isFormControl:h,bubbleInput:g}=We(ot,s),v=et(o,f),k=m.useRef(u);return m.useEffect(()=>{const N=n?.form;if(N){const y=()=>l(k.current);return N.addEventListener("reset",y),()=>N.removeEventListener("reset",y)}},[n,l]),t.jsx(X.button,{type:"button",role:"checkbox","aria-checked":B(u)?"mixed":u,"aria-required":x,"data-state":ft(u),"data-disabled":d?"":void 0,disabled:d,value:c,...a,ref:v,onKeyDown:fe(e,N=>{N.key==="Enter"&&N.preventDefault()}),onClick:fe(r,N=>{l(y=>B(y)?!0:!y),g&&h&&(i.current=N.isPropagationStopped(),i.current||N.stopPropagation())})})});ct.displayName=ot;var lt=m.forwardRef((s,e)=>{const{__scopeCheckbox:r,name:a,checked:o,defaultChecked:n,required:c,disabled:d,value:u,onCheckedChange:x,form:f,...l}=s;return t.jsx(as,{__scopeCheckbox:r,checked:o,defaultChecked:n,disabled:d,required:c,onCheckedChange:x,name:a,form:f,value:u,internal_do_not_use_render:({isFormControl:i})=>t.jsxs(t.Fragment,{children:[t.jsx(ct,{...l,ref:e,__scopeCheckbox:r}),i&&t.jsx(ut,{__scopeCheckbox:r})]})})});lt.displayName=Ve;var it="CheckboxIndicator",dt=m.forwardRef((s,e)=>{const{__scopeCheckbox:r,forceMount:a,...o}=s,n=We(it,r);return t.jsx(rt,{present:a||B(n.checked)||n.checked===!0,children:t.jsx(X.span,{"data-state":ft(n.checked),"data-disabled":n.disabled?"":void 0,...o,ref:e,style:{pointerEvents:"none",...s.style}})})});dt.displayName=it;var mt="CheckboxBubbleInput",ut=m.forwardRef(({__scopeCheckbox:s,...e},r)=>{const{control:a,hasConsumerStoppedPropagationRef:o,checked:n,defaultChecked:c,required:d,disabled:u,name:x,value:f,form:l,bubbleInput:i,setBubbleInput:h}=We(mt,s),g=et(r,h),v=ts(n),k=It(a);m.useEffect(()=>{const y=i;if(!y)return;const w=window.HTMLInputElement.prototype,S=Object.getOwnPropertyDescriptor(w,"checked").set,C=!o.current;if(v!==n&&S){const b=new Event("click",{bubbles:C});y.indeterminate=B(n),S.call(y,B(n)?!1:n),y.dispatchEvent(b)}},[i,v,n,o]);const N=m.useRef(B(n)?!1:n);return t.jsx(X.input,{type:"checkbox","aria-hidden":!0,defaultChecked:c??N.current,required:d,disabled:u,name:x,value:f,form:l,...e,tabIndex:-1,ref:g,style:{...e.style,...k,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});ut.displayName=mt;function ns(s){return typeof s=="function"}function B(s){return s==="indeterminate"}function ft(s){return B(s)?"indeterminate":s?"checked":"unchecked"}function os(s){const e=H.c(9);let r,a;e[0]!==s?({className:r,...a}=s,e[0]=s,e[1]=r,e[2]=a):(r=e[1],a=e[2]);let o;e[3]!==r?(o=Ae("peer border-input data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",r),e[3]=r,e[4]=o):o=e[4];let n;e[5]===Symbol.for("react.memo_cache_sentinel")?(n=t.jsx(dt,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:t.jsx(Ht,{className:"size-3.5"})}),e[5]=n):n=e[5];let c;return e[6]!==a||e[7]!==o?(c=t.jsx(lt,{"data-slot":"checkbox",className:o,...a,children:n}),e[6]=a,e[7]=o,e[8]=c):c=e[8],c}var ze="Tabs",[cs,ws]=st(ze,[nt]),xt=nt(),[ls,Qe]=cs(ze),ht=m.forwardRef((s,e)=>{const{__scopeTabs:r,value:a,onValueChange:o,defaultValue:n,orientation:c="horizontal",dir:d,activationMode:u="automatic",...x}=s,f=$t(d),[l,i]=tt({prop:a,onChange:o,defaultProp:n??"",caller:ze});return t.jsx(ls,{scope:r,baseId:Tt(),value:l,onValueChange:i,orientation:c,dir:f,activationMode:u,children:t.jsx(X.div,{dir:f,"data-orientation":c,...x,ref:e})})});ht.displayName=ze;var pt="TabsList",gt=m.forwardRef((s,e)=>{const{__scopeTabs:r,loop:a=!0,...o}=s,n=Qe(pt,r),c=xt(r);return t.jsx(Et,{asChild:!0,...c,orientation:n.orientation,dir:n.dir,loop:a,children:t.jsx(X.div,{role:"tablist","aria-orientation":n.orientation,...o,ref:e})})});gt.displayName=pt;var bt="TabsTrigger",vt=m.forwardRef((s,e)=>{const{__scopeTabs:r,value:a,disabled:o=!1,...n}=s,c=Qe(bt,r),d=xt(r),u=jt(c.baseId,a),x=_t(c.baseId,a),f=a===c.value;return t.jsx(Dt,{asChild:!0,...d,focusable:!o,active:f,children:t.jsx(X.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":x,"data-state":f?"active":"inactive","data-disabled":o?"":void 0,disabled:o,id:u,...n,ref:e,onMouseDown:fe(s.onMouseDown,l=>{!o&&l.button===0&&l.ctrlKey===!1?c.onValueChange(a):l.preventDefault()}),onKeyDown:fe(s.onKeyDown,l=>{[" ","Enter"].includes(l.key)&&c.onValueChange(a)}),onFocus:fe(s.onFocus,()=>{const l=c.activationMode!=="manual";!f&&!o&&l&&c.onValueChange(a)})})})});vt.displayName=bt;var yt="TabsContent",Nt=m.forwardRef((s,e)=>{const{__scopeTabs:r,value:a,forceMount:o,children:n,...c}=s,d=Qe(yt,r),u=jt(d.baseId,a),x=_t(d.baseId,a),f=a===d.value,l=m.useRef(f);return m.useEffect(()=>{const i=requestAnimationFrame(()=>l.current=!1);return()=>cancelAnimationFrame(i)},[]),t.jsx(rt,{present:o||f,children:({present:i})=>t.jsx(X.div,{"data-state":f?"active":"inactive","data-orientation":d.orientation,role:"tabpanel","aria-labelledby":u,hidden:!i,id:x,tabIndex:0,...c,ref:e,style:{...s.style,animationDuration:l.current?"0s":void 0},children:i&&n})})});Nt.displayName=yt;function jt(s,e){return`${s}-trigger-${e}`}function _t(s,e){return`${s}-content-${e}`}var is=ht,wt=gt,kt=vt,St=Nt;const ds=is,Ct=m.forwardRef((s,e)=>{const r=H.c(9);let a,o;r[0]!==s?({className:a,...o}=s,r[0]=s,r[1]=a,r[2]=o):(a=r[1],o=r[2]);let n;r[3]!==a?(n=Ae("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",a),r[3]=a,r[4]=n):n=r[4];let c;return r[5]!==o||r[6]!==e||r[7]!==n?(c=t.jsx(wt,{ref:e,className:n,...o}),r[5]=o,r[6]=e,r[7]=n,r[8]=c):c=r[8],c});Ct.displayName=wt.displayName;const Je=m.forwardRef((s,e)=>{const r=H.c(9);let a,o;r[0]!==s?({className:a,...o}=s,r[0]=s,r[1]=a,r[2]=o):(a=r[1],o=r[2]);let n;r[3]!==a?(n=Ae("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",a),r[3]=a,r[4]=n):n=r[4];let c;return r[5]!==o||r[6]!==e||r[7]!==n?(c=t.jsx(kt,{ref:e,className:n,...o}),r[5]=o,r[6]=e,r[7]=n,r[8]=c):c=r[8],c});Je.displayName=kt.displayName;const Ye=m.forwardRef((s,e)=>{const r=H.c(9);let a,o;r[0]!==s?({className:a,...o}=s,r[0]=s,r[1]=a,r[2]=o):(a=r[1],o=r[2]);let n;r[3]!==a?(n=Ae("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",a),r[3]=a,r[4]=n):n=r[4];let c;return r[5]!==o||r[6]!==e||r[7]!==n?(c=t.jsx(St,{ref:e,className:n,...o}),r[5]=o,r[6]=e,r[7]=n,r[8]=c):c=r[8],c});Ye.displayName=St.displayName;const ms=s=>{const e=H.c(27),{onSignatureChange:r}=s,a=m.useRef(null),[o,n]=m.useState(!1),[c,d]=m.useState(!1);let u;e[0]===Symbol.for("react.memo_cache_sentinel")?(u=p=>{const j=a.current;if(!j)return{x:0,y:0};const _=j.getBoundingClientRect(),T=j.width/_.width,D=j.height/_.height;if("touches"in p){const F=p.touches[0];return{x:(F.clientX-_.left)*T,y:(F.clientY-_.top)*D}}else return{x:(p.clientX-_.left)*T,y:(p.clientY-_.top)*D}},e[0]=u):u=e[0];const x=u;let f;e[1]===Symbol.for("react.memo_cache_sentinel")?(f=p=>{p.preventDefault();const _=a.current?.getContext("2d");if(!_)return;const{x:T,y:D}=x(p);_.beginPath(),_.moveTo(T,D),n(!0)},e[1]=f):f=e[1];const l=f;let i;e[2]!==c||e[3]!==o?(i=p=>{if(p.preventDefault(),!o)return;const _=a.current?.getContext("2d");if(!_)return;const{x:T,y:D}=x(p);_.lineTo(T,D),_.stroke(),c||d(!0)},e[2]=c,e[3]=o,e[4]=i):i=e[4];const h=i;let g;e[5]!==c||e[6]!==o||e[7]!==r?(g=()=>{if(o){n(!1);const p=a.current;p&&c&&r(!0,p.toDataURL("image/png"))}},e[5]=c,e[6]=o,e[7]=r,e[8]=g):g=e[8];const v=g;let k;e[9]!==r?(k=()=>{const p=a.current,j=p?.getContext("2d");!j||!p||(j.clearRect(0,0,p.width,p.height),d(!1),r(!1,null))},e[9]=r,e[10]=k):k=e[10];const N=k;let y,w;e[11]===Symbol.for("react.memo_cache_sentinel")?(y=()=>{const j=a.current?.getContext("2d");j&&(j.strokeStyle="hsl(220, 25%, 10%)",j.lineWidth=3,j.lineCap="round",j.lineJoin="round")},w=[],e[11]=y,e[12]=w):(y=e[11],w=e[12]),m.useEffect(y,w);let R;e[13]!==h||e[14]!==v?(R=t.jsx("canvas",{ref:a,width:400,height:150,className:"signature-canvas h-[150px] w-full",onMouseDown:l,onMouseMove:h,onMouseUp:v,onMouseLeave:v,onTouchStart:l,onTouchMove:h,onTouchEnd:v}),e[13]=h,e[14]=v,e[15]=R):R=e[15];let S;e[16]!==c?(S=!c&&t.jsx("div",{className:"pointer-events-none absolute inset-0 flex items-center justify-center",children:t.jsx("span",{className:"text-sm text-muted-foreground/50",children:"Signez ici avec votre doigt ou souris"})}),e[16]=c,e[17]=S):S=e[17];let C;e[18]!==R||e[19]!==S?(C=t.jsxs("div",{className:"relative overflow-hidden rounded-lg border-2 border-dashed border-muted-foreground/30 bg-card",children:[R,S]}),e[18]=R,e[19]=S,e[20]=C):C=e[20];let b;e[21]===Symbol.for("react.memo_cache_sentinel")?(b=t.jsx(Ot,{className:"mr-2 h-4 w-4"}),e[21]=b):b=e[21];let I;e[22]!==N?(I=t.jsxs(me,{type:"button",variant:"outline",size:"sm",onClick:N,className:"w-full",children:[b,"Effacer la signature"]}),e[22]=N,e[23]=I):I=e[23];let E;return e[24]!==C||e[25]!==I?(E=t.jsxs("div",{className:"space-y-3",children:[C,I]}),e[24]=C,e[25]=I,e[26]=E):E=e[26],E},us=s=>{const e=H.c(100),{onSuccess:r}=s,[a,o]=m.useState(""),[n,c]=m.useState(""),[d,u]=m.useState(""),[x,f]=m.useState(""),[l,i]=m.useState(""),[h,g]=m.useState("checkbox"),[v,k]=m.useState(!1),[N,y]=m.useState(null),[w,R]=m.useState(!1),[S,C]=m.useState(!1),[b,I]=m.useState("arrival"),[E,p]=m.useState(null);let j,_;e[0]===Symbol.for("react.memo_cache_sentinel")?(j=()=>{const M=()=>{const V=new Date;f(V.toLocaleDateString("fr-FR",{weekday:"long",year:"numeric",month:"long",day:"numeric"})),i(V.toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"}))};M();const z=setInterval(M,1e3);return()=>clearInterval(z)},_=[],e[0]=j,e[1]=_):(j=e[0],_=e[1]),m.useEffect(j,_);let T;e[2]===Symbol.for("react.memo_cache_sentinel")?(T=(M,z)=>{k(M),y(z)},e[2]=T):T=e[2];const D=T;let F;e[3]!==w||e[4]!==a||e[5]!==v||e[6]!==n||e[7]!==d||e[8]!==h?(F=()=>{const M=a.trim()&&n.trim()&&d.trim(),z=h==="signature"?v:w,V=M&&z;return console.log("Form check:",{hasRequiredFields:M,hasValidation:z,signatureMode:h,hasSignature:v,checkboxConfirmed:w,valid:V}),V},e[3]=w,e[4]=a,e[5]=v,e[6]=n,e[7]=d,e[8]=h,e[9]=F):F=e[9];const $=F;let L;e[10]!==x||e[11]!==l||e[12]!==a||e[13]!==$||e[14]!==n||e[15]!==d||e[16]!==r||e[17]!==b||e[18]!==N||e[19]!==h?(L=async M=>{if(M.preventDefault(),!$()){U.error("Veuillez remplir tous les champs et valider votre pointage.");return}C(!0),p(null),Ze.post("/attendance",{first_name:a,last_name:n,matricule:d,type:b,signature_data:h==="signature"?N:"checkbox_confirmed"}).then(z=>{C(!1);const V=b==="arrival"?"Arrivée enregistrée !":"Départ enregistré !";U.success(V),r({firstName:a,lastName:n,matricule:d,date:x,time:l,type:b})}).catch(z=>{C(!1);const V=z.response?.data?.message||"Une erreur est survenue lors de l'enregistrement.";p(V),U.error(V)})},e[10]=x,e[11]=l,e[12]=a,e[13]=$,e[14]=n,e[15]=d,e[16]=r,e[17]=b,e[18]=N,e[19]=h,e[20]=L):L=e[20];const A=L;let P;e[21]!==E?(P=E&&t.jsx("div",{className:"animate-in rounded-xl border border-destructive/20 bg-destructive/10 p-4 text-sm font-medium text-destructive fade-in slide-in-from-top-2",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"flex h-5 w-5 items-center justify-center rounded-full bg-destructive text-[10px] text-white",children:"!"}),E]})}),e[21]=E,e[22]=P):P=e[22];const q=b==="arrival"?"default":"outline",He=`h-20 rounded-2xl border-2 text-lg font-bold transition-all ${b==="arrival"?"border-success bg-success text-success-foreground shadow-lg shadow-success/20 hover:bg-success/90":"border-border/40 hover:border-success/50 hover:bg-success/5"}`;let xe;e[23]===Symbol.for("react.memo_cache_sentinel")?(xe=()=>{I("arrival"),p(null)},e[23]=xe):xe=e[23];let he;e[24]===Symbol.for("react.memo_cache_sentinel")?(he=t.jsxs("div",{className:"flex flex-col items-center gap-1",children:[t.jsx(Ke,{className:"h-6 w-6"}),t.jsx("span",{children:"Arrivée"})]}),e[24]=he):he=e[24];let K;e[25]!==q||e[26]!==He?(K=t.jsx(me,{type:"button",variant:q,className:He,onClick:xe,children:he}),e[25]=q,e[26]=He,e[27]=K):K=e[27];const qe=b==="departure"?"default":"outline",Be=`h-20 rounded-2xl border-2 text-lg font-bold transition-all ${b==="departure"?"border-warning bg-warning text-warning-foreground shadow-lg shadow-warning/20 hover:bg-warning/90":"border-border/40 hover:border-warning/50 hover:bg-warning/5"}`;let pe;e[28]===Symbol.for("react.memo_cache_sentinel")?(pe=()=>{I("departure"),p(null)},e[28]=pe):pe=e[28];let ge;e[29]===Symbol.for("react.memo_cache_sentinel")?(ge=t.jsxs("div",{className:"flex flex-col items-center gap-1",children:[t.jsx(Ue,{className:"h-6 w-6"}),t.jsx("span",{children:"Départ"})]}),e[29]=ge):ge=e[29];let J;e[30]!==qe||e[31]!==Be?(J=t.jsx(me,{type:"button",variant:qe,className:Be,onClick:pe,children:ge}),e[30]=qe,e[31]=Be,e[32]=J):J=e[32];let Y;e[33]!==K||e[34]!==J?(Y=t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[K,J]}),e[33]=K,e[34]=J,e[35]=Y):Y=e[35];let be;e[36]===Symbol.for("react.memo_cache_sentinel")?(be=t.jsx("div",{className:"flex h-12 w-12 shrink-0 items-center justify-center rounded-xl bg-primary/10",children:t.jsx(at,{className:"h-6 w-6 text-primary"})}),e[36]=be):be=e[36];let ve;e[37]===Symbol.for("react.memo_cache_sentinel")?(ve=t.jsx("p",{className:"mb-0.5 text-[10px] font-bold tracking-wider text-muted-foreground uppercase",children:"Date"}),e[37]=ve):ve=e[37];let W;e[38]!==x?(W=t.jsxs("div",{className:"flex items-center gap-4",children:[be,t.jsxs("div",{className:"min-w-0",children:[ve,t.jsx("p",{className:"truncate text-sm font-bold text-foreground capitalize",children:x})]})]}),e[38]=x,e[39]=W):W=e[39];let ye;e[40]===Symbol.for("react.memo_cache_sentinel")?(ye=t.jsx("div",{className:"flex h-12 w-12 shrink-0 items-center justify-center rounded-xl bg-primary/10",children:t.jsx(At,{className:"h-6 w-6 text-primary"})}),e[40]=ye):ye=e[40];let Ne;e[41]===Symbol.for("react.memo_cache_sentinel")?(Ne=t.jsx("p",{className:"mb-0.5 text-[10px] font-bold tracking-wider text-muted-foreground uppercase",children:"Heure"}),e[41]=Ne):Ne=e[41];let Q;e[42]!==l?(Q=t.jsxs("div",{className:"flex items-center gap-4 border-l border-border/40 pl-4",children:[ye,t.jsxs("div",{className:"min-w-0",children:[Ne,t.jsx("p",{className:"text-xl font-bold tracking-tight text-foreground",children:l})]})]}),e[42]=l,e[43]=Q):Q=e[43];let Z;e[44]!==W||e[45]!==Q?(Z=t.jsxs("div",{className:"grid grid-cols-2 gap-4 rounded-2xl border border-border/40 bg-muted/30 p-5 backdrop-blur-sm dark:bg-slate-900/50",children:[W,Q]}),e[44]=W,e[45]=Q,e[46]=Z):Z=e[46];let je;e[47]===Symbol.for("react.memo_cache_sentinel")?(je=t.jsx(Xe,{className:"h-4 w-4"}),e[47]=je):je=e[47];let _e;e[48]===Symbol.for("react.memo_cache_sentinel")?(_e=t.jsxs(O,{htmlFor:"lastName",className:"flex items-center gap-2 text-foreground",children:[je,"Nom ",t.jsx("span",{className:"text-destructive",children:"*"})]}),e[48]=_e):_e=e[48];let we;e[49]===Symbol.for("react.memo_cache_sentinel")?(we=M=>c(M.target.value),e[49]=we):we=e[49];let ee;e[50]!==n?(ee=t.jsxs("div",{className:"space-y-2",children:[_e,t.jsx(ue,{id:"lastName",type:"text",placeholder:"Votre nom de famille",value:n,onChange:we,className:"h-12 text-base dark:bg-slate-800",required:!0})]}),e[50]=n,e[51]=ee):ee=e[51];let ke;e[52]===Symbol.for("react.memo_cache_sentinel")?(ke=t.jsx(Xe,{className:"h-4 w-4"}),e[52]=ke):ke=e[52];let Se;e[53]===Symbol.for("react.memo_cache_sentinel")?(Se=t.jsxs(O,{htmlFor:"firstName",className:"flex items-center gap-2",children:[ke,"Prénom ",t.jsx("span",{className:"text-destructive",children:"*"})]}),e[53]=Se):Se=e[53];let Ce;e[54]===Symbol.for("react.memo_cache_sentinel")?(Ce=M=>o(M.target.value),e[54]=Ce):Ce=e[54];let te;e[55]!==a?(te=t.jsxs("div",{className:"space-y-2",children:[Se,t.jsx(ue,{id:"firstName",type:"text",placeholder:"Votre prénom",value:a,onChange:Ce,className:"h-12 text-base dark:bg-slate-800",required:!0})]}),e[55]=a,e[56]=te):te=e[56];let Me;e[57]===Symbol.for("react.memo_cache_sentinel")?(Me=t.jsx(Xt,{className:"h-4 w-4"}),e[57]=Me):Me=e[57];let Te;e[58]===Symbol.for("react.memo_cache_sentinel")?(Te=t.jsxs(O,{htmlFor:"matricule",className:"flex items-center gap-2",children:[Me,"Matricule ",t.jsx("span",{className:"text-destructive",children:"*"})]}),e[58]=Te):Te=e[58];let Re;e[59]===Symbol.for("react.memo_cache_sentinel")?(Re=M=>u(M.target.value),e[59]=Re):Re=e[59];let se;e[60]!==d?(se=t.jsxs("div",{className:"space-y-2",children:[Te,t.jsx(ue,{id:"matricule",type:"text",placeholder:"Votre matricule chauffeur",value:d,onChange:Re,className:"h-12 text-base dark:bg-slate-800",required:!0})]}),e[60]=d,e[61]=se):se=e[61];let re;e[62]!==ee||e[63]!==te||e[64]!==se?(re=t.jsxs("div",{className:"space-y-4",children:[ee,te,se]}),e[62]=ee,e[63]=te,e[64]=se,e[65]=re):re=e[65];let Ie;e[66]===Symbol.for("react.memo_cache_sentinel")?(Ie=t.jsx(O,{className:"font-medium text-foreground",children:"Mode de validation"}),e[66]=Ie):Ie=e[66];let Ee;e[67]===Symbol.for("react.memo_cache_sentinel")?(Ee=M=>g(M),e[67]=Ee):Ee=e[67];let De;e[68]===Symbol.for("react.memo_cache_sentinel")?(De=t.jsxs(Je,{value:"checkbox",className:"flex items-center justify-center gap-2 rounded-xl text-sm font-bold data-[state=active]:bg-background data-[state=active]:shadow-sm",children:[t.jsx(Qt,{className:"h-4 w-4"}),"Simple"]}),e[68]=De):De=e[68];let $e;e[69]===Symbol.for("react.memo_cache_sentinel")?($e=t.jsxs(Ct,{className:"grid h-14 w-full grid-cols-2 rounded-2xl bg-muted/50 p-1.5 dark:bg-slate-900/50",children:[De,t.jsxs(Je,{value:"signature",className:"flex items-center justify-center gap-2 rounded-xl text-sm font-bold data-[state=active]:bg-background data-[state=active]:shadow-sm",children:[t.jsx(Yt,{className:"h-4 w-4"}),"Signature"]})]}),e[69]=$e):$e=e[69];let Pe;e[70]===Symbol.for("react.memo_cache_sentinel")?(Pe=M=>R(M===!0),e[70]=Pe):Pe=e[70];let ae;e[71]!==w?(ae=t.jsx(os,{id:"confirm",checked:w,onCheckedChange:Pe,className:"mt-0.5 h-6 w-6"}),e[71]=w,e[72]=ae):ae=e[72];const Ge=b==="arrival"?"Je confirme mon arrivée et suis prêt(e) à commencer mon service.":"Je confirme mon départ et la fin de mon service.";let ne;e[73]!==Ge?(ne=t.jsx(O,{htmlFor:"confirm",className:"cursor-pointer leading-relaxed text-foreground",children:Ge}),e[73]=Ge,e[74]=ne):ne=e[74];let oe;e[75]!==ae||e[76]!==ne?(oe=t.jsx(Ye,{value:"checkbox",className:"mt-4",children:t.jsxs("div",{className:"flex items-start gap-3 rounded-xl bg-secondary/30 p-4 dark:bg-slate-900/30",children:[ae,ne]})}),e[75]=ae,e[76]=ne,e[77]=oe):oe=e[77];let Fe;e[78]===Symbol.for("react.memo_cache_sentinel")?(Fe=t.jsx(Ye,{value:"signature",className:"mt-4",children:t.jsx(ms,{onSignatureChange:D})}),e[78]=Fe):Fe=e[78];let ce;e[79]!==h||e[80]!==oe?(ce=t.jsxs("div",{className:"space-y-3",children:[Ie,t.jsxs(ds,{value:h,onValueChange:Ee,children:[$e,oe,Fe]})]}),e[79]=h,e[80]=oe,e[81]=ce):ce=e[81];const Oe=`h-16 w-full rounded-2xl text-lg font-extrabold shadow-xl transition-all hover:scale-[1.02] active:scale-[0.98] ${b==="arrival"?"bg-success text-success-foreground shadow-success/20 hover:bg-success/90":"bg-warning text-warning-foreground shadow-warning/20 hover:bg-warning/90"}`;let le;e[82]!==$||e[83]!==S?(le=!$()||S,e[82]=$,e[83]=S,e[84]=le):le=e[84];let ie;e[85]!==S||e[86]!==b?(ie=S?t.jsxs(t.Fragment,{children:[t.jsx(Vt,{className:"mr-2 h-6 w-6 animate-spin"}),"Enregistrement..."]}):b==="arrival"?t.jsxs(t.Fragment,{children:[t.jsx(Ke,{className:"mr-2 h-6 w-6"}),"Pointer mon arrivée"]}):t.jsxs(t.Fragment,{children:[t.jsx(Ue,{className:"mr-2 h-6 w-6"}),"Pointer mon départ"]}),e[85]=S,e[86]=b,e[87]=ie):ie=e[87];let de;e[88]!==Oe||e[89]!==le||e[90]!==ie?(de=t.jsx(me,{type:"submit",size:"lg",className:Oe,disabled:le,children:ie}),e[88]=Oe,e[89]=le,e[90]=ie,e[91]=de):de=e[91];let Le;return e[92]!==A||e[93]!==Y||e[94]!==Z||e[95]!==re||e[96]!==ce||e[97]!==de||e[98]!==P?(Le=t.jsxs("form",{onSubmit:A,className:"space-y-6",children:[P,Y,Z,re,ce,de]}),e[92]=A,e[93]=Y,e[94]=Z,e[95]=re,e[96]=ce,e[97]=de,e[98]=P,e[99]=Le):Le=e[99],Le},fs=()=>{const s=H.c(9),[e,r]=m.useState(!1),[a,o]=m.useState(""),[n,c]=m.useState(""),[d,u]=m.useState(null);let x;s[0]!==n||s[1]!==a?(x=async()=>{if(u(null),!a||!n){U.error("Veuillez renseigner vos informations de manager.");return}try{const i=`/attendance/export?manager_name=${encodeURIComponent(a)}&manager_matricule=${encodeURIComponent(n)}`;U.info("Vérification des accès..."),await Ze.get(i),window.location.href=i,U.success("Rapport prêt ! Le téléchargement va commencer."),r(!1)}catch(i){const g=i.response?.data?.message||"Accès refusé. Vérifiez vos identifiants.";u(g),U.error(g)}},s[0]=n,s[1]=a,s[2]=x):x=s[2];const f=x;let l;return s[3]!==d||s[4]!==f||s[5]!==e||s[6]!==n||s[7]!==a?(l=t.jsx("div",{className:"mt-12 border-t border-border/40 pt-8",children:e?t.jsxs("div",{className:"animate-in rounded-2xl border border-border/40 bg-muted/30 p-6 duration-300 zoom-in-95 fade-in",children:[d&&t.jsx("div",{className:"mb-4 animate-in rounded-xl border border-destructive/20 bg-destructive/10 p-4 text-sm font-medium text-destructive fade-in slide-in-from-top-2",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"flex h-5 w-5 items-center justify-center rounded-full bg-destructive text-[10px] text-white",children:"!"}),d]})}),t.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Ft,{className:"h-5 w-5 text-primary"}),t.jsx("h3",{className:"font-bold text-foreground",children:"Export du rapport (.csv)"})]}),t.jsx("button",{onClick:()=>{r(!1),u(null)},className:"text-muted-foreground hover:text-foreground",children:t.jsx(Rt,{className:"h-5 w-5"})})]}),t.jsxs("div",{className:"mb-4 grid grid-cols-1 gap-4 sm:grid-cols-2",children:[t.jsxs("div",{className:"space-y-1.5",children:[t.jsx(O,{htmlFor:"mgrName",className:"text-[10px] font-bold text-muted-foreground uppercase",children:"Nom complet"}),t.jsx(ue,{id:"mgrName",placeholder:"Manager...",value:a,onChange:i=>{o(i.target.value),u(null)},className:"h-10 text-sm"})]}),t.jsxs("div",{className:"space-y-1.5",children:[t.jsx(O,{htmlFor:"mgrMatricule",className:"text-[10px] font-bold text-muted-foreground uppercase",children:"Matricule Manager"}),t.jsx(ue,{id:"mgrMatricule",placeholder:"ID Manager...",value:n,onChange:i=>{c(i.target.value),u(null)},className:"h-10 text-sm"})]})]}),t.jsxs(me,{onClick:f,className:"w-full rounded-xl bg-primary font-bold text-primary-foreground hover:bg-primary/90",children:[t.jsx(Lt,{className:"mr-2 h-4 w-4"}),"Télécharger le rapport du jour"]})]}):t.jsxs("button",{onClick:()=>r(!0),className:"group mx-auto flex items-center gap-2 text-xs font-semibold text-muted-foreground transition-colors hover:text-primary",children:[t.jsx(Pt,{className:"h-4 w-4 transition-transform group-hover:scale-110"}),"Espace Manager - Télécharger le rapport"]})}),s[3]=d,s[4]=f,s[5]=e,s[6]=n,s[7]=a,s[8]=l):l=s[8],l},xs=s=>{const e=H.c(48),{driverName:r,matricule:a,date:o,time:n,type:c,onNewSignature:d}=s,u=c==="arrival",x=`animate-pulse-success flex h-24 w-24 items-center justify-center rounded-full ${u?"bg-success/10":"bg-warning/10"}`,f=`animate-check-bounce h-16 w-16 ${u?"text-success":"text-warning"}`;let l;e[0]!==f?(l=t.jsx(Bt,{className:f}),e[0]=f,e[1]=l):l=e[1];let i;e[2]!==x||e[3]!==l?(i=t.jsx("div",{className:"flex justify-center",children:t.jsx("div",{className:"relative",children:t.jsx("div",{className:x,children:l})})}),e[2]=x,e[3]=l,e[4]=i):i=e[4];const h=u?"Arrivée enregistrée !":"Départ enregistré !";let g;e[5]!==h?(g=t.jsx("h2",{className:"text-3xl font-extrabold tracking-tight text-foreground",children:h}),e[5]=h,e[6]=g):g=e[6];let v;e[7]===Symbol.for("react.memo_cache_sentinel")?(v=t.jsx("p",{className:"font-medium text-muted-foreground",children:"Votre pointage a été transmis avec succès au service RH."}),e[7]=v):v=e[7];let k;e[8]!==g?(k=t.jsxs("div",{className:"space-y-4",children:[g,v]}),e[8]=g,e[9]=k):k=e[9];const N=`flex h-10 w-10 items-center justify-center rounded-xl ${u?"bg-success/10":"bg-warning/10"}`;let y;e[10]!==u?(y=u?t.jsx(Ke,{className:"h-5 w-5 text-success"}):t.jsx(Ue,{className:"h-5 w-5 text-warning"}),e[10]=u,e[11]=y):y=e[11];let w;e[12]!==y||e[13]!==N?(w=t.jsx("div",{className:N,children:y}),e[12]=y,e[13]=N,e[14]=w):w=e[14];let R;e[15]===Symbol.for("react.memo_cache_sentinel")?(R=t.jsx("p",{className:"mb-0.5 text-[10px] font-bold tracking-wider text-muted-foreground uppercase",children:"Opération"}),e[15]=R):R=e[15];const S=u?"Arrivée":"Départ";let C;e[16]!==S?(C=t.jsxs("div",{children:[R,t.jsx("p",{className:"font-bold text-foreground",children:S})]}),e[16]=S,e[17]=C):C=e[17];let b;e[18]!==w||e[19]!==C?(b=t.jsxs("div",{className:"flex items-center gap-4 border-b border-border/20 pb-3",children:[w,C]}),e[18]=w,e[19]=C,e[20]=b):b=e[20];let I,E;e[21]===Symbol.for("react.memo_cache_sentinel")?(I=t.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-primary/10",children:t.jsx(Xe,{className:"h-5 w-5 text-primary"})}),E=t.jsx("p",{className:"mb-0.5 text-[10px] font-bold tracking-wider text-muted-foreground uppercase",children:"Chauffeur"}),e[21]=I,e[22]=E):(I=e[21],E=e[22]);let p;e[23]!==r?(p=t.jsxs("div",{className:"flex items-center gap-4",children:[I,t.jsxs("div",{children:[E,t.jsx("p",{className:"truncate font-bold text-foreground",children:r})]})]}),e[23]=r,e[24]=p):p=e[24];let j,_;e[25]===Symbol.for("react.memo_cache_sentinel")?(j=t.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-primary/10",children:t.jsx("span",{className:"text-xs font-extrabold text-primary",children:"ID"})}),_=t.jsx("p",{className:"mb-0.5 text-[10px] font-bold tracking-wider text-muted-foreground uppercase",children:"Matricule"}),e[25]=j,e[26]=_):(j=e[25],_=e[26]);let T;e[27]!==a?(T=t.jsxs("div",{className:"flex items-center gap-4",children:[j,t.jsxs("div",{children:[_,t.jsx("p",{className:"font-bold text-foreground",children:a})]})]}),e[27]=a,e[28]=T):T=e[28];let D,F;e[29]===Symbol.for("react.memo_cache_sentinel")?(D=t.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-primary/10",children:t.jsx(at,{className:"h-5 w-5 text-primary"})}),F=t.jsx("p",{className:"mb-0.5 text-[10px] font-bold tracking-wider text-muted-foreground uppercase",children:"Date & Heure"}),e[29]=D,e[30]=F):(D=e[29],F=e[30]);let $;e[31]!==o||e[32]!==n?($=t.jsxs("div",{className:"flex items-center gap-4",children:[D,t.jsxs("div",{children:[F,t.jsxs("p",{className:"font-bold text-foreground",children:[o," à ",n]})]})]}),e[31]=o,e[32]=n,e[33]=$):$=e[33];let L;e[34]!==p||e[35]!==T||e[36]!==$?(L=t.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[p,T,$]}),e[34]=p,e[35]=T,e[36]=$,e[37]=L):L=e[37];let A;e[38]!==b||e[39]!==L?(A=t.jsxs("div",{className:"mx-auto max-w-sm space-y-4 rounded-2xl border border-border/40 bg-muted/30 p-6 text-left shadow-sm backdrop-blur-sm",children:[b,L]}),e[38]=b,e[39]=L,e[40]=A):A=e[40];let P;e[41]!==d?(P=t.jsx(me,{onClick:d,variant:"outline",size:"lg",className:"mt-6",children:"Nouveau pointage"}),e[41]=d,e[42]=P):P=e[42];let q;return e[43]!==A||e[44]!==P||e[45]!==i||e[46]!==k?(q=t.jsxs("div",{className:"space-y-6 px-4 py-8 text-center",children:[i,k,A,P]}),e[43]=A,e[44]=P,e[45]=i,e[46]=k,e[47]=q):q=e[47],q},ks=()=>{const s=H.c(12),[e,r]=m.useState(!1),[a,o]=m.useState(null);let n;s[0]===Symbol.for("react.memo_cache_sentinel")?(n=k=>{o(k),r(!0)},s[0]=n):n=s[0];const c=n;let d;s[1]===Symbol.for("react.memo_cache_sentinel")?(d=()=>{r(!1),o(null)},s[1]=d):d=s[1];const u=d;let x;s[2]===Symbol.for("react.memo_cache_sentinel")?(x=t.jsx(Mt,{title:"Accueil"}),s[2]=x):x=s[2];let f;s[3]===Symbol.for("react.memo_cache_sentinel")?(f=t.jsxs("div",{className:"pointer-events-none fixed inset-0 overflow-hidden",children:[t.jsx("div",{className:"absolute -top-[10%] -left-[10%] h-[40%] w-[40%] animate-pulse rounded-full bg-primary/5 blur-3xl"}),t.jsx("div",{className:"absolute top-[60%] -right-[10%] h-[35%] w-[35%] animate-pulse rounded-full bg-success/5 blur-3xl"})]}),s[3]=f):f=s[3];let l;s[4]===Symbol.for("react.memo_cache_sentinel")?(l=t.jsxs("div",{className:"mb-8 animate-in text-center duration-700 fade-in slide-in-from-top-4",children:[t.jsx("div",{className:"mb-4 inline-flex h-16 w-16 items-center justify-center rounded-2xl bg-primary text-primary-foreground shadow-lg shadow-primary/20 transition-transform hover:scale-105",children:t.jsx(es,{className:"h-10 w-10"})}),t.jsx("h1",{className:"text-3xl font-extrabold tracking-tight text-foreground sm:text-4xl",children:"Pointage Chauffeurs"}),t.jsx("p",{className:"mt-2 font-medium text-muted-foreground",children:"Enregistrement sécurisé de votre activité"})]}),s[4]=l):l=s[4];let i;s[5]!==e||s[6]!==a?(i=t.jsx("div",{className:"shadow-card-lg w-full overflow-hidden rounded-3xl border border-border/40 bg-card p-1 transition-all duration-500 hover:shadow-2xl sm:p-2",children:t.jsx("div",{className:"p-5 sm:p-8",children:e&&a?t.jsx(xs,{driverName:`${a.firstName} ${a.lastName}`,matricule:a.matricule,date:a.date,time:a.time,type:a.type,onNewSignature:u}):t.jsx(us,{onSuccess:c})})}),s[5]=e,s[6]=a,s[7]=i):i=s[7];let h;s[8]===Symbol.for("react.memo_cache_sentinel")?(h=t.jsx(fs,{}),s[8]=h):h=s[8];let g;s[9]===Symbol.for("react.memo_cache_sentinel")?(g=t.jsx("footer",{className:"mt-8 animate-in text-center duration-1000 fade-in",children:t.jsxs("p",{className:"mx-auto max-w-xs text-xs leading-relaxed text-muted-foreground",children:["Vos données sont transmises instantanément au service RH.",t.jsx("br",{}),"Système de pointage certifié Eyano Group."]})}),s[9]=g):g=s[9];let v;return s[10]!==i?(v=t.jsxs(t.Fragment,{children:[x,t.jsxs("div",{className:"flex min-h-screen flex-col bg-background",children:[f,t.jsxs("main",{className:"relative z-10 mx-auto flex w-full max-w-xl flex-1 flex-col items-center justify-center p-4 sm:p-6",children:[l,i,h,g]})]})]}),s[10]=i,s[11]=v):v=s[11],v};export{ks as default};
